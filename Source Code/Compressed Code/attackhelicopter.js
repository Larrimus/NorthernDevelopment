"use strict";if(typeof documentBody==='undefined')var documentBody=document.body;var q,C,N,a,r,c,S,e,t,d=document.getElementById("gallery"),V=d.children,o=document.getElementById("thumbnails"),j=-1;function G(){S=Math.ceil(container.clientWidth/220),e=440/((S+10)*(S+10)),c.marginTop=e+"%",c.marginLeft=e+"%",r.width=(100-(S+1)*e)/S+"%",a.height=V[0].clientWidth,q=N.clientHeight,C=N.clientWidth}function u(e,t){for(var n=e.length,o=t.length,i=0;i<n;i++)for(var l=0;l<o;l++)if(-1==e[i].selectorText.indexOf(t[l]))l=o;else if(l==o-1)return e[i].style;return!1}!function(){for(var e=o.childNodes,t=d.childNodes,n=e.length-1;0<=n;n-=2)o.removeChild(e[n]),d.removeChild(t[n])}(),t=(t=documentBody.children)[t-1],(N=document.createElement("DIV")).style="position:absolute; background:rgba(0,0,0,0.8); width:100%; height:100%; opacity:0; z-index:-1; top:"+window.pageYOffset+"; right:"+window.pageXOffset,documentBody.appendChild(N),function(){var e,t,n=document.styleSheets,o=n.length-2,i=n[o],l=i.cssRules.length;i.insertRule("div#gallery div{\n\n}",l),a=i.cssRules[l].style;for(var s=new Array("#thumbnails img",",","#gallery div"),d=0;d<o;d++){for(e=n[d].href,t=e.length-1;"/"!=e[t]&&t;)t--;t&&(t++,e=e.substr(t),1&isMobile?"style.css"==e?c=u(n[d].cssRules,s):"mobile.css"==e&&(t=0):"style.css"==e&&(t=0),t||(n=n[d].cssRules,d=o))}1&isMobile?r=c:(r=u(n[o].cssRules,s),c=r)}(),G(),function(){var c,e,t,u,f,y,h,m,g,w,v,p,b,n,E=0,L=0,O=0,A=d.getElementsByTagName("img"),H=!1,M=function(){e=Date.now(),t=(e-c)/400,c=e,y+=t*w,h+=t*v,m+=t*p,g+=t*b,N.style.opacity=h,A[j].style.opacity=h,A[j].style.width=y,A[j].style.left=m,A[j].style.top=g,E&&y<f||!E&&f<y?n=requestAnimationFrame(M):((N.style.opacity=E)?(A[j].style.opacity=E,A[j].style.width=f,A[j].style.left=L,A[j].style.top=O):(A[j].removeAttribute("style"),j=-1,N.style.zIndex=-1),H=!1)};function W(){c=Date.now(),y=f,f=V[0].clientWidth,m=L,g=O,w=f-y,p=(L=E=0)-m,b=(O=0)-g,v=E-(h=1),H=!0,M()}for(var X,Y,B,I,x,z,D=function(){e=Date.now(),t=(e-c)/u,c=e,m+=t*p,A[j].style.left=m,p<0&&L<m||0<p&&m<L?n=requestAnimationFrame(D):(documentBody.removeAttribute("style"),A[j].style.left=L,H=!1)},o=function(e){H&&(cancelAnimationFrame(n),documentBody.removeAttribute("style"),E?(-1<h&&h<2?(N.style.opacity=E,A[j].style.opacity=E,A[j].style.width=f,A[j].style.left=L):(A[j].removeAttribute("style"),A[j=I].style.left=L),A[j].style.top=O):(N.style.opacity=E,A[j].removeAttribute("style"),N.style.zIndex=-1)),e()},R=document.getElementById("container"),F=R.children[0],T=R.children[1],i=0;i<A.length;i++)A[i].id=i,1&isMobile&&(A[i].addEventListener("touchstart",l),A[i].addEventListener("touchend",s)),1&isMobile||(A[i].addEventListener("mousedown",l),A[i].addEventListener("mouseup",s));function l(r){r.button||o(function(){if(-1<j){r.preventDefault();var t,n,o,i,l=r.pageX,s=r.pageY,d=0;function a(e){null==e.button?document.removeEventListener("touchmove",a):document.removeEventListener("mousemove",a),B=j>=A.length-1?(I=0,j-1):0==j?(I=j+1,A.length-1):(I=j+1,j-1),documentBody.clientWidth<=C&&(documentBody.style.overflowX="hidden"),m=e.pageX-l,g=e.pageY-s,n=g>Math.abs(m)?(R.clientHeight<=q&&(documentBody.style.overflowY="hidden"),b=2*s,L-=l,O-=s,function(e){m=L+e.pageX,g=O+e.pageY,y=f-(Math.abs(e.pageY-s)+Math.abs(e.pageX-l)*Y)/2,h=1-Math.abs(e.pageY/b-.5),A[j].style.left=m,A[j].style.top=g,A[j].style.width=y,A[j].style.opacity=h,N.style.opacity=h}):(y=V[0].clientWidth,X=A[B].naturalHeight/A[B].naturalWidth,h=(x-C)/2-(v=Y<X?.9*q/X:.9*C)-z-(z+y)*(B%S)+window.pageXOffset,b=(q-v*X)/2-z-(z+y)*Math.floor(B/S)-F.clientHeight-T.clientHeight+window.pageYOffset,X=A[I].naturalHeight/A[I].naturalWidth,w=Y<X?.9*q/X:.9*C,p=(C+x)/2-z-(z+y)*(I%S)+window.pageXOffset,g=(q-w*X)/2-z-(z+y)*Math.floor(I/S)-F.clientHeight-T.clientHeight+window.pageYOffset,A[B].style.width=v,A[B].style.top=b,A[B].style.left=h,A[B].style.opacity=1,A[B].style.zIndex=3,A[I].style.width=w,A[I].style.top=g,A[I].style.left=p,A[I].style.opacity=1,A[I].style.zIndex=3,o=(C-f)/2,function(e){d=Date.now(),t=m,i=e.pageX-l,m=L+i,o<i?A[B].style.left=h-o+i:i<-o&&(A[I].style.left=p+o+i),A[j].style.left=m}),null==e.button?document.addEventListener("touchmove",n):document.addEventListener("mousemove",n)}function e(){c=Date.now(),d?d<c-50?(u=600*Math.log(Math.abs(i)+500)-4e3,i<o&&-o<i?(A[B].removeAttribute("style"),A[I].removeAttribute("style"),p=L-m,H=!0,D()):(i<0?(A[B].removeAttribute("style"),-1*i<x/2?(B=I,I=j,j=B,g=p+o+i):(g=m,m=p+o-(B=i),w!=f&&(B=w,w=f,f=B)),L=(x-f)/2-z-(z+y)*(I%S)+window.pageXOffset,h=Math.abs(i)<x/2?L+(C+w)/2:L-(C+w)/2):0<i&&(A[I].removeAttribute("style"),I=B,i<x/2?(B=j,j=I,I=B,g=h-o+i):(g=m,m=h-o+(B=i),v!=f&&(B=v,v=f,f=B)),L=(x-f)/2-z-(z+y)*(I%S)+window.pageXOffset,h=i<x/2?L-(C+v)/2:L+(C+v)/2),i&&(p=L-m,b=h-i,H=!0,k()))):(u=100+800*(c-d)/Math.abs(m-t),d=x/2-z+window.pageXOffset,h=t<m?(i<-o?(A[B].removeAttribute("style"),B=j,j=I,I=B,g=p+o+i):(A[I].removeAttribute("style"),I=B,v!=f&&(B=v,v=f,f=B),b!=O&&(O=b),g=m,m=h-o+i),d+C/1.96-(z+y)*(j%S)):(h=o<i?(A[I].removeAttribute("style"),I=j,j=B,g=h-o+i,d-v):(A[B].removeAttribute("style"),w!=f&&(B=w,w=f,f=B),g!=O&&(O=g),g=m,m=p+o+i,d-w))-C/1.96-(z+y)*(j%S),p=(L=d-f/2-(z+y)*(I%S))-m,b=h-g,H=!0,k()):n?(f=V[0].clientWidth,w=f-y,p=(L=E=0)-m,b=(O=0)-g,v=E-h,H=!0,M()):W(),null==r.button?(n?document.removeEventListener("touchmove",n):document.removeEventListener("touchmove",a),document.removeEventListener("touchend",e)):(n?document.removeEventListener("mousemove",n):document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e))}m=L,null==r.button?(document.addEventListener("touchmove",a),document.addEventListener("touchend",e)):(document.addEventListener("mousemove",a),document.addEventListener("mouseup",e))}else X=window.pageYOffset})}function s(e){X==window.pageYOffset&&(c=Date.now(),N.style.top=X,N.style.left=window.pageXOffset,j=~~e.target.id,y=e.target.clientWidth,z=V[0].offsetTop,x=R.clientWidth,X=e.target.naturalHeight/e.target.naturalWidth,O=(q-(f=(Y=q/C)<X?.9*q/X:.9*C)*X)/2-z-(z+y)*Math.floor(j/S)-F.clientHeight-T.clientHeight+window.pageYOffset,L=(x-f)/2-z-(z+y)*(j%S)+window.pageXOffset,w=f-y,p=L-(m=0),b=O-(g=0),v=(E=1)-(h=0),A[j].style.zIndex=3,N.style.zIndex=2,H=!0,M())}N.addEventListener("click",function(){-1<j&&o(function(){W()})},!1);var k=function(){e=Date.now(),t=(e-c)/u,c=e,m+=t*p,g+=t*p,A[I].style.left=m,A[j].style.left=g,p<0&&L<m||0<p&&m<L?n=requestAnimationFrame(k):(documentBody.removeAttribute("style"),A[j].removeAttribute("style"),A[j=I].style.left=L,H=!1)};1&isMobile||document.addEventListener("keydown",function(e){-1<j&&o(function(){c=Date.now(),"Escape"===e.code?W():"ArrowLeft"===e.code?(f<=y&&(y=V[0].clientWidth),h=(g=L)+(C+f)/2,I=0==j?A.length-1:j-1,X=A[I].naturalHeight/A[I].naturalWidth,m=(x-C)/2-z-(z+y)*(I%S)-(f=Y<X?.9*q/X:.9*C)+window.pageXOffset,L=(C+f)/2+m,O=(q-f*X)/2-z-(z+y)*Math.floor(I/S)-F.clientHeight-T.clientHeight+window.pageYOffset,p=L-m,u=200,documentBody.clientWidth<=C&&(documentBody.style.overflowX="hidden"),A[I].style.width=f,A[I].style.top=O,A[I].style.opacity=1,A[I].style.zIndex=3,H=!0,k()):"ArrowRight"===e.code&&(f<=y&&(y=V[0].clientWidth),h=(g=L)-(C+f)/2,I=j>=A.length-1?0:j+1,X=A[I].naturalHeight/A[I].naturalWidth,f=Y<X?.9*q/X:.9*C,m=C-z-(z+y)*(I%S)+window.pageXOffset,L=m-C-(f-x)/2,O=(q-f*X)/2-z-(z+y)*Math.floor(I/S)-F.clientHeight-T.clientHeight+window.pageYOffset,p=L-m,u=200,documentBody.clientWidth<=C&&(documentBody.style.overflowX="hidden"),A[I].style.width=f,A[I].style.top=O,A[I].style.opacity=1,A[I].style.zIndex=3,H=!0,k())})});document.addEventListener("scroll",function(e){-1<j&&(N.style.top=window.pageYOffset,N.style.left=window.pageXOffset,y=V[0].clientWidth,L=(x-f)/2-z-(z+y)*(j%S)+window.pageXOffset,O=(q-f*X)/2-z-(z+y)*Math.floor(j/S)-F.clientHeight-T.clientHeight+window.pageYOffset,A[j].style.left=L,A[j].style.top=O)}),window.addEventListener("resize",function(){G(),-1<j&&(x=R.clientWidth,z=V[0].offsetLeft,y=V[0].clientWidth,L=(x-(f=(Y=q/C)<X?.9*q/X:.9*C))/2-z-(z+y)*(j%S)+window.pageXOffset,O=(q-f*X)/2-z-(z+y)*Math.floor(j/S)-F.clientHeight-T.clientHeight+window.pageYOffset,A[j].style.left=L,A[j].style.top=O,A[j].style.width=f)})}();