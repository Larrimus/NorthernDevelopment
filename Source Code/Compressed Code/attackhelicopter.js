"use strict";var q,C,N,d,a,c,S,e,t,V=document.getElementById("gallery"),j=V.children,i=document.getElementById("thumbnails"),G=-1;function J(){S=Math.ceil(container.clientWidth/220),e=440/((S+10)*(S+10)),c.marginTop=e+"%",c.marginLeft=e+"%",a.width=(100-(S+1)*e)/S+"%",d.height=j[0].clientWidth,q=N.clientHeight,C=N.clientWidth}function r(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i].selectorText==t)return e[i].style;return!1}!function(){for(var e=i.childNodes,t=V.childNodes,n=e.length-1;0<=n;n-=2)i.removeChild(e[n]),V.removeChild(t[n])}(),t=(t=documentBody.children)[t-1],(N=document.createElement("DIV")).style="position:absolute; background:rgba(0,0,0,0.8); width:100%; height:100%; opacity:0; z-index:-1; top:"+window.pageYOffset+"; right:"+window.pageXOffset,documentBody.appendChild(N),function(){var e,t,n=document.styleSheets,i=n.length-1,o=n[i],l=o.cssRules.length;o.insertRule("div#gallery div{\n\n}",l),d=o.cssRules[l].style;for(var s=0;s<i;s++){for(e=n[s].href,t=e.length-1;"/"!=e[t]&&t;)t--;t&&(t++,e=e.substr(t),1&isMobile?"style.css"==e?c=r(n[s].cssRules,"div#thumbnails img, div#gallery div"):"mobile.css"==e&&(t=0):"style.css"==e&&(t=0),t||(n=n[s].cssRules,s=i))}1&isMobile?a=c:(a=r(n,"div#thumbnails img, div#gallery div"),c=a)}(),J(),function(){var r,e,t,u,y,f,h,m,g,v,w,p,b,n,E=0,L=0,O=0,A=V.getElementsByTagName("img"),H=!1,M=function(){e=Date.now(),t=(e-r)/400,r=e,f+=t*v,h+=t*w,m+=t*p,g+=t*b,N.style.opacity=h,A[G].style.opacity=h,A[G].style.width=f,A[G].style.left=m,A[G].style.top=g,E&&f<y||!E&&y<f?n=requestAnimationFrame(M):((N.style.opacity=E)?(A[G].style.opacity=E,A[G].style.width=y,A[G].style.left=L,A[G].style.top=O):(A[G].removeAttribute("style"),G=-1,N.style.zIndex=-1),H=!1)};function W(){r=Date.now(),f=y,y=j[0].clientWidth,m=L,g=O,v=y-f,p=(L=E=0)-m,b=(O=0)-g,w=E-(h=1),H=!0,M()}for(var X,Y,B,I,x,z,D=function(){e=Date.now(),t=(e-r)/u,r=e,m+=t*p,A[G].style.left=m,p<0&&L<m||0<p&&m<L?n=requestAnimationFrame(D):(documentBody.removeAttribute("style"),A[G].style.left=L,H=!1)},i=function(e){H&&(cancelAnimationFrame(n),documentBody.removeAttribute("style"),E?(-1<h&&h<2?(N.style.opacity=E,A[G].style.opacity=E,A[G].style.width=y,A[G].style.left=L):(A[G].removeAttribute("style"),A[G=I].style.left=L),A[G].style.top=O):(N.style.opacity=E,A[G].removeAttribute("style"),N.style.zIndex=-1)),e()},R=document.getElementById("container"),F=R.children[0],T=R.children[1],o=0;o<A.length;o++)A[o].id=o,1&isMobile&&(A[o].addEventListener("touchstart",l),A[o].addEventListener("touchend",s)),1&isMobile||(A[o].addEventListener("mousedown",l),A[o].addEventListener("mouseup",s));function l(c){c.button||i(function(){if(-1<G){c.preventDefault();var t,n,i,o,l=c.pageX,s=c.pageY,d=0;function a(e){null==e.button?document.removeEventListener("touchmove",a):document.removeEventListener("mousemove",a),B=G>=A.length-1?(I=0,G-1):0==G?(I=G+1,A.length-1):(I=G+1,G-1),documentBody.clientWidth<=C&&(documentBody.style.overflowX="hidden"),m=e.pageX-l,g=e.pageY-s,n=g>Math.abs(m)?(R.clientHeight<=q&&(documentBody.style.overflowY="hidden"),b=2*s,L-=l,O-=s,function(e){m=L+e.pageX,g=O+e.pageY,f=y-(Math.abs(e.pageY-s)+Math.abs(e.pageX-l)*Y)/2,h=1-Math.abs(e.pageY/b-.5),A[G].style.left=m,A[G].style.top=g,A[G].style.width=f,A[G].style.opacity=h,N.style.opacity=h}):(f=j[0].clientWidth,X=A[B].naturalHeight/A[B].naturalWidth,h=(x-C)/2-(w=Y<X?.9*q/X:.9*C)-z-(z+f)*(B%S)+window.pageXOffset,b=(q-w*X)/2-z-(z+f)*Math.floor(B/S)-F.clientHeight-T.clientHeight+window.pageYOffset,X=A[I].naturalHeight/A[I].naturalWidth,v=Y<X?.9*q/X:.9*C,p=(C+x)/2-z-(z+f)*(I%S)+window.pageXOffset,g=(q-v*X)/2-z-(z+f)*Math.floor(I/S)-F.clientHeight-T.clientHeight+window.pageYOffset,A[B].style.width=w,A[B].style.top=b,A[B].style.left=h,A[B].style.opacity=1,A[B].style.zIndex=3,A[I].style.width=v,A[I].style.top=g,A[I].style.left=p,A[I].style.opacity=1,A[I].style.zIndex=3,i=(C-y)/2,function(e){d=Date.now(),t=m,o=e.pageX-l,m=L+o,i<o?A[B].style.left=h-i+o:o<-i&&(A[I].style.left=p+i+o),A[G].style.left=m}),null==e.button?document.addEventListener("touchmove",n):document.addEventListener("mousemove",n)}function e(){r=Date.now(),d?d<r-50?(u=600*Math.log(Math.abs(o)+500)-4e3,o<i&&-i<o?(A[B].removeAttribute("style"),A[I].removeAttribute("style"),p=L-m,H=!0,D()):(o<0?(A[B].removeAttribute("style"),-1*o<x/2?(B=I,I=G,G=B,g=p+i+o):(g=m,m=p+i-(B=o),v!=y&&(B=v,v=y,y=B)),L=(x-y)/2-z-(z+f)*(I%S)+window.pageXOffset,h=Math.abs(o)<x/2?L+(C+v)/2:L-(C+v)/2):0<o&&(A[I].removeAttribute("style"),I=B,o<x/2?(B=G,G=I,I=B,g=h-i+o):(g=m,m=h-i+(B=o),w!=y&&(B=w,w=y,y=B)),L=(x-y)/2-z-(z+f)*(I%S)+window.pageXOffset,h=o<x/2?L-(C+w)/2:L+(C+w)/2),o&&(p=L-m,b=h-o,H=!0,k()))):(u=100+800*(r-d)/Math.abs(m-t),d=x/2-z+window.pageXOffset,h=t<m?(o<-i?(A[B].removeAttribute("style"),B=G,G=I,I=B,g=p+i+o):(A[I].removeAttribute("style"),I=B,w!=y&&(B=w,w=y,y=B),b!=O&&(O=b),g=m,m=h-i+o),d+C/1.96-(z+f)*(G%S)):(h=i<o?(A[I].removeAttribute("style"),I=G,G=B,g=h-i+o,d-w):(A[B].removeAttribute("style"),v!=y&&(B=v,v=y,y=B),g!=O&&(O=g),g=m,m=p+i+o,d-v))-C/1.96-(z+f)*(G%S),p=(L=d-y/2-(z+f)*(I%S))-m,b=h-g,H=!0,k()):n?(y=j[0].clientWidth,v=y-f,p=(L=E=0)-m,b=(O=0)-g,w=E-h,H=!0,M()):W(),null==c.button?(n?document.removeEventListener("touchmove",n):document.removeEventListener("touchmove",a),document.removeEventListener("touchend",e)):(n?document.removeEventListener("mousemove",n):document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e))}m=L,null==c.button?(document.addEventListener("touchmove",a),document.addEventListener("touchend",e)):(document.addEventListener("mousemove",a),document.addEventListener("mouseup",e))}else X=window.pageYOffset})}function s(e){X==window.pageYOffset&&(r=Date.now(),N.style.top=X,N.style.left=window.pageXOffset,G=~~e.target.id,f=e.target.clientWidth,z=j[0].offsetTop,x=R.clientWidth,X=e.target.naturalHeight/e.target.naturalWidth,O=(q-(y=(Y=q/C)<X?.9*q/X:.9*C)*X)/2-z-(z+f)*Math.floor(G/S)-F.clientHeight-T.clientHeight+window.pageYOffset,L=(x-y)/2-z-(z+f)*(G%S)+window.pageXOffset,v=y-f,p=L-(m=0),b=O-(g=0),w=(E=1)-(h=0),A[G].style.zIndex=3,N.style.zIndex=2,H=!0,M())}N.addEventListener("click",function(){-1<G&&i(function(){W()})},!1);var k=function(){e=Date.now(),t=(e-r)/u,r=e,m+=t*p,g+=t*p,A[I].style.left=m,A[G].style.left=g,p<0&&L<m||0<p&&m<L?n=requestAnimationFrame(k):(documentBody.removeAttribute("style"),A[G].removeAttribute("style"),A[G=I].style.left=L,H=!1)};1&isMobile||document.addEventListener("keydown",function(e){-1<G&&i(function(){r=Date.now(),"Escape"===e.code?W():"ArrowLeft"===e.code?(y<=f&&(f=j[0].clientWidth),h=(g=L)+(C+y)/2,I=0==G?A.length-1:G-1,X=A[I].naturalHeight/A[I].naturalWidth,m=(x-C)/2-z-(z+f)*(I%S)-(y=Y<X?.9*q/X:.9*C)+window.pageXOffset,L=(C+y)/2+m,O=(q-y*X)/2-z-(z+f)*Math.floor(I/S)-F.clientHeight-T.clientHeight+window.pageYOffset,p=L-m,u=200,documentBody.clientWidth<=C&&(documentBody.style.overflowX="hidden"),A[I].style.width=y,A[I].style.top=O,A[I].style.opacity=1,A[I].style.zIndex=3,H=!0,k()):"ArrowRight"===e.code&&(y<=f&&(f=j[0].clientWidth),h=(g=L)-(C+y)/2,I=G>=A.length-1?0:G+1,X=A[I].naturalHeight/A[I].naturalWidth,y=Y<X?.9*q/X:.9*C,m=C-z-(z+f)*(I%S)+window.pageXOffset,L=m-C-(y-x)/2,O=(q-y*X)/2-z-(z+f)*Math.floor(I/S)-F.clientHeight-T.clientHeight+window.pageYOffset,p=L-m,u=200,documentBody.clientWidth<=C&&(documentBody.style.overflowX="hidden"),A[I].style.width=y,A[I].style.top=O,A[I].style.opacity=1,A[I].style.zIndex=3,H=!0,k())})});document.addEventListener("scroll",function(e){-1<G&&(N.style.top=window.pageYOffset,N.style.left=window.pageXOffset,f=j[0].clientWidth,L=(x-y)/2-z-(z+f)*(G%S)+window.pageXOffset,O=(q-y*X)/2-z-(z+f)*Math.floor(G/S)-F.clientHeight-T.clientHeight+window.pageYOffset,A[G].style.left=L,A[G].style.top=O)}),window.addEventListener("resize",function(){J(),-1<G&&(x=R.clientWidth,z=j[0].offsetLeft,f=j[0].clientWidth,L=(x-(y=(Y=q/C)<X?.9*q/X:.9*C))/2-z-(z+f)*(G%S)+window.pageXOffset,O=(q-y*X)/2-z-(z+f)*Math.floor(G/S)-F.clientHeight-T.clientHeight+window.pageYOffset,A[G].style.left=L,A[G].style.top=O,A[G].style.width=y)})}();